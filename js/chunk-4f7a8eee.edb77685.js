(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f7a8eee"],{"110d":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all-monitor"},[a("TextTitle",{attrs:{title:"所有监控"}}),a("BorderBox1",{attrs:{w:578,h:264,handleMouseenter:e.handleMouseenter,handleMouseleave:e.handleDebounce(this.handleMouseleave,100)}},[a("div",{staticClass:"left"},[a("TextTitle2",{attrs:{title:"楼层概览"}}),a("MonitorList",{attrs:{activeIndex:e.activeIndex,list:e.curFloors,pageSize:e.floorPageSize,page:e.floorPage,pageTotal:e.floorPageTotal,delay:e.delay,currentChange:e.handlePageClick,handleSelectFloor:e.handleSelectFloor}})],1),a("div",{staticClass:"right"},[a("TextTitle2",{attrs:{title:"当前楼层画面"}}),a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isShowPic&&e.curFloors.length?a("div",{staticClass:"video-container"},[a("img",{attrs:{src:o("f456")("./snap-shot-0"+e.curFloors[e.activeIndex].pic+".png"),alt:""}})]):e._e()])],1)])],1)},n=[],i=(o("fb6a"),o("a9e3"),o("2af9")),l=o("4260"),r={props:{totalFloors:{type:Number,default:25},list:{type:Array,default:function(){return[]}},curFloorChange:{type:Function,default:function(e){}}},components:{TextTitle:i["m"],BorderBox1:i["a"],TextTitle2:i["n"],MonitorList:i["f"]},data:function(){return{floors:[],curFloors:[],floorPageSize:6,floorPage:1,floorPageTotal:0,delay:250,timer:null,playTime:3e3,activeIndex:0,hasInitPlay:!1,isShowPic:!0}},mounted:function(){},methods:{updateFloors:function(e){var t=this.floorPageSize;this.floorPageTotal=Math.ceil(e.length/t),this.floors=e,this.curFloors=e.slice(t*(this.floorPage-1),t*this.floorPage)},initPagePlay:function(){var e=this;this.hasInitPlay=!0,this.clearAutoPlay();var t=this.curFloors.length,o=this.delay*t;t&&setTimeout((function(){e.autoPlayEveryFloorMonitor()}),o)},autoPlayEveryFloorMonitor:function(){var e=this,t=this.curFloors.length,o=this.playTime;this.timer=setInterval((function(){var o=e.floors,a=e.floorPageSize;e.activeIndex++,e.isShowPic=!1,setTimeout((function(){e.isShowPic=!0}),20),e.activeIndex>=t&&(e.activeIndex=0,e.floorPage++,e.floorPage=e.floorPage>e.floorPageTotal?1:e.floorPage,e.curFloors=[],e.curFloors=o.slice(a*(e.floorPage-1),a*e.floorPage),e.initPagePlay())}),o)},clearAutoPlay:function(){var e=this.timer;e&&clearInterval(e),e=null},handleMouseenter:function(){console.log("handleMouseenter"),this.clearAutoPlay()},handleMouseleave:function(){console.log("handleMouseleave"),this.autoPlayEveryFloorMonitor()},handlePageClick:function(e){var t=this.floors,o=this.floorPageSize;this.activeIndex=0,console.log("handlePageClick page",e),this.floorPage=e,this.curFloors=t.slice(o*(this.floorPage-1),o*this.floorPage)},handleSelectFloor:function(e){this.activeIndex=e;var t=this.floorPageSize*(this.floorPage-1)+e+1;this.curFloorChange(t)},handleDebounce:l["c"]},beforeDestroy:function(){this.clearAutoPlay()},watch:{list:function(e){var t=this;this.updateFloors(e),this.hasInitPlay||this.$nextTick((function(){t.initPagePlay()}))}}},s=r,c=(o("3749"),o("2877")),u=Object(c["a"])(s,a,n,!1,null,"30468f68",null);t["default"]=u.exports},3749:function(e,t,o){"use strict";var a=o("9a0f"),n=o.n(a);n.a},"42bc":function(e,t,o){e.exports=o.p+"img/snap-shot-02.6fd903fd.png"},"9a0f":function(e,t,o){},a228:function(e,t,o){e.exports=o.p+"img/snap-shot-01.2f438fc3.png"},e2d7:function(e,t,o){e.exports=o.p+"img/snap-shot-04.60768361.png"},f25b:function(e,t,o){e.exports=o.p+"img/snap-shot-03.cb0202cd.png"},f456:function(e,t,o){var a={"./snap-shot-01.png":"a228","./snap-shot-02.png":"42bc","./snap-shot-03.png":"f25b","./snap-shot-04.png":"e2d7"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="f456"}}]);
//# sourceMappingURL=chunk-4f7a8eee.edb77685.js.map