{"version":3,"sources":["webpack:///./src/pages/home/components/AllMonitor.vue?ff6f","webpack:///src/pages/home/components/AllMonitor.vue","webpack:///./src/pages/home/components/AllMonitor.vue?8917","webpack:///./src/pages/home/components/AllMonitor.vue","webpack:///./src/pages/home/components/AllMonitor.vue?7176","webpack:///./src/assets/snap-shot-02.png","webpack:///./src/assets/snap-shot-01.png","webpack:///./src/assets/snap-shot-04.png","webpack:///./src/assets/snap-shot-03.png","webpack:///./src/assets sync ^\\.\\/snap\\-shot\\-0.*\\.png$"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","handleMouseenter","handleDebounce","handleMouseleave","activeIndex","curFloors","floorPageSize","floorPage","floorPageTotal","delay","handlePageClick","handleSelectFloor","isShowPic","length","pic","_e","staticRenderFns","props","totalFloors","type","Number","default","list","Array","curFloorChange","Function","components","TextTitle","BorderBox1","TextTitle2","MonitorList","data","floors","timer","playTime","hasInitPlay","mounted","methods","updateFloors","Math","ceil","arr","slice","initPagePlay","clearAutoPlay","curLen","setTimeout","autoPlayEveryFloorMonitor","setInterval","clearInterval","console","log","page","curFloorIndex","curFloor","beforeDestroy","watch","newList","$nextTick","component","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,aAAa,CAACG,MAAM,CAAC,EAAI,IAAI,EAAI,IAAI,iBAAmBP,EAAIQ,iBAAiB,iBAAmBR,EAAIS,eAAeR,KAAKS,iBAAkB,OAAO,CAACN,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,cAAc,CAACG,MAAM,CAAC,YAAcP,EAAIW,YAAY,KAAOX,EAAIY,UAAU,SAAWZ,EAAIa,cAAc,KAAOb,EAAIc,UAAU,UAAYd,EAAIe,eAAe,MAAQf,EAAIgB,MAAM,cAAgBhB,EAAIiB,gBAAgB,kBAAoBjB,EAAIkB,sBAAsB,GAAGd,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,YAAYH,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,WAAW,CAAEP,EAAImB,WAAanB,EAAIY,UAAUQ,OAAQhB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,UAAQ,gBAAwBP,EAAIY,UAAUZ,EAAIW,aAAaU,IAAK,QAAQ,IAAM,QAAQrB,EAAIsB,QAAQ,MAAM,IACv+BC,EAAkB,G,8CCgDtB,GACEC,MAAO,CACLC,YAAa,CACXC,KAAMC,OACNC,QAAS,IAEXC,KAAM,CACJH,KAAMI,MACNF,QAAS,WAAf,WAGIG,eAAgB,CACdL,KAAMM,SACNJ,QAAS,SAAf,OAGEK,WAAY,CACVC,UAAJ,OACIC,WAAJ,OACIC,WAAJ,OACIC,YAAJ,QAEEC,KAtBF,WAuBI,MAAO,CACLC,OAAQ,GACR3B,UAAW,GACXC,cAAe,EACfC,UAAW,EACXC,eAAgB,EAChBC,MAAO,IACPwB,MAAO,KACPC,SAAU,IACV9B,YAAa,EACb+B,aAAa,EACbvB,WAAW,IAGfwB,QArCF,aAwCEC,QAAS,CACPC,aADJ,SACA,GACM,IAAN,qBACM5C,KAAKc,eAAiB+B,KAAKC,KAAKC,EAAI5B,OAASP,GAC7CZ,KAAKsC,OAASS,EACd/C,KAAKW,UAAYoC,EAAIC,MAAMpC,GAAiBZ,KAAKa,UAAY,GAAID,EAAgBZ,KAAKa,YAGxFoC,aARJ,WAQA,WACMjD,KAAKyC,aAAc,EACnBzC,KAAKkD,gBAEL,IAAN,wBACA,eAIWC,GAELC,YAAW,WACT,EAAR,8BACA,IAGIC,0BAxBJ,WAwBA,WACA,wBACA,gBAEMrD,KAAKuC,MAAQe,aAAY,WACvB,IAAR,WACA,kBACQ,EAAR,cAEQ,EAAR,aAEQF,YAAW,WACT,EAAV,eACA,IAIY,EAAZ,iBACU,EAAV,cAEU,EAAV,YACU,EAAV,qDACU,EAAV,aAEU,EAAV,mDAEU,EAAV,kBAEA,IAGIF,cAvDJ,WAwDM,IAAN,aAEMX,GAASgB,cAAchB,GACvBA,EAAQ,MAGVhC,iBA9DJ,WA+DMiD,QAAQC,IAAI,oBACZzD,KAAKkD,iBAGPzC,iBAnEJ,WAoEM+C,QAAQC,IAAI,oBACZzD,KAAKqD,6BAGPrC,gBAxEJ,SAwEA,GACM,IAAN,cACA,qBACMhB,KAAKU,YAAc,EAEnB8C,QAAQC,IAAI,uBAAwBC,GACpC1D,KAAKa,UAAY6C,EACjB1D,KAAKW,UAAYoC,EAAIC,MAAMpC,GAAiBZ,KAAKa,UAAY,GAAID,EAAgBZ,KAAKa,YAGxFI,kBAlFJ,SAkFA,GACMjB,KAAKU,YAAciD,EAEnB,IAAN,4CAEM3D,KAAK8B,eAAe8B,IAEtBpD,eAAgB,EAApB,MAEEqD,cAnIF,WAoII7D,KAAKkD,iBAEPY,MAAO,CACLlC,KADJ,SACA,cACM5B,KAAK4C,aAAamB,GAEd/D,KAAKyC,aAETzC,KAAKgE,WAAU,WACb,EAAR,qBC9LkX,I,wBCQ9WC,EAAY,eACd,EACAnE,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAA2C,E,2CCnBf,yBAAilB,EAAG,G,uBCAplBC,EAAOC,QAAU,IAA0B,iC,8CCA3CD,EAAOC,QAAU,IAA0B,iC,qBCA3CD,EAAOC,QAAU,IAA0B,iC,qBCA3CD,EAAOC,QAAU,IAA0B,iC,qBCA3C,IAAIC,EAAM,CACT,qBAAsB,OACtB,qBAAsB,OACtB,qBAAsB,OACtB,qBAAsB,QAIvB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK","file":"js/chunk-4f7a8eee.edb77685.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all-monitor\"},[_c('TextTitle',{attrs:{\"title\":\"所有监控\"}}),_c('BorderBox1',{attrs:{\"w\":578,\"h\":264,\"handleMouseenter\":_vm.handleMouseenter,\"handleMouseleave\":_vm.handleDebounce(this.handleMouseleave, 100)}},[_c('div',{staticClass:\"left\"},[_c('TextTitle2',{attrs:{\"title\":\"楼层概览\"}}),_c('MonitorList',{attrs:{\"activeIndex\":_vm.activeIndex,\"list\":_vm.curFloors,\"pageSize\":_vm.floorPageSize,\"page\":_vm.floorPage,\"pageTotal\":_vm.floorPageTotal,\"delay\":_vm.delay,\"currentChange\":_vm.handlePageClick,\"handleSelectFloor\":_vm.handleSelectFloor}})],1),_c('div',{staticClass:\"right\"},[_c('TextTitle2',{attrs:{\"title\":\"当前楼层画面\"}}),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.isShowPic && _vm.curFloors.length)?_c('div',{staticClass:\"video-container\"},[_c('img',{attrs:{\"src\":require('@/assets/snap-shot-0'+ _vm.curFloors[_vm.activeIndex].pic +'.png'),\"alt\":\"\"}})]):_vm._e()])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Descripttion: \n * @version: \n * @Author: Jianyong Wang\n * @Date: 2021-04-08 16:59:29\n * @LastEditors: Jianyong Wang\n * @LastEditTime: 2021-04-15 19:44:54\n-->\n<template>\n  <div class=\"all-monitor\">\n    <TextTitle title=\"所有监控\" />\n    <BorderBox1\n      :w=\"578\"\n      :h=\"264\"\n      :handleMouseenter=\"handleMouseenter\"\n      :handleMouseleave=\"handleDebounce(this.handleMouseleave, 100)\">\n      <div class=\"left\">\n        <TextTitle2 title=\"楼层概览\" />\n\n        <MonitorList\n          :activeIndex=\"activeIndex\"\n          :list=\"curFloors\"\n          :pageSize=\"floorPageSize\"\n          :page=\"floorPage\"\n          :pageTotal=\"floorPageTotal\"\n          :delay=\"delay\"\n          :currentChange=\"handlePageClick\"\n          :handleSelectFloor=\"handleSelectFloor\"\n           />\n      </div>\n      <div class=\"right\">\n        <TextTitle2 title=\"当前楼层画面\" />\n        <transition name=\"fade\" mode=\"out-in\">\n          <div\n            class=\"video-container\"\n            v-if=\"isShowPic && curFloors.length\">\n            <img\n              :src=\"require('@/assets/snap-shot-0'+ curFloors[activeIndex].pic +'.png')\" alt=\"\">\n          </div>\n        </transition>\n      </div>\n    </BorderBox1>\n  </div>\n</template>\n\n<script>\nimport { TextTitle, BorderBox1, TextTitle2, MonitorList } from '@/components'\nimport { debounce } from '@/util'\n\nexport default {\n  props: {\n    totalFloors: {\n      type: Number,\n      default: 25\n    },\n    list: {\n      type: Array,\n      default: () => []\n    },\n    //  选择楼层\n    curFloorChange: {\n      type: Function,\n      default: curFloor => {}\n    }\n  },\n  components: {\n    TextTitle,\n    BorderBox1,\n    TextTitle2,\n    MonitorList\n  },\n  data() {\n    return {\n      floors: [],\n      curFloors: [],\n      floorPageSize: 6,\n      floorPage: 1,\n      floorPageTotal: 0,\n      delay: 250,\n      timer: null,\n      playTime: 3000,\n      activeIndex: 0,\n      hasInitPlay: false,\n      isShowPic: true\n    }\n  },\n  mounted() {\n    \n  },\n  methods: {\n    updateFloors(arr) {\n      let floorPageSize = this.floorPageSize\n      this.floorPageTotal = Math.ceil(arr.length / floorPageSize)\n      this.floors = arr\n      this.curFloors = arr.slice(floorPageSize * (this.floorPage - 1), floorPageSize * this.floorPage)\n    },\n    //  初始化每页动画结束播放\n    initPagePlay() {\n      this.hasInitPlay = true\n      this.clearAutoPlay()\n\n      let curLen = this.curFloors.length\n      let queryTime = this.delay * curLen\n\n      //  console.log('initPagePlay curFloors', this.curFloors)\n\n      if (!curLen) return\n\n      setTimeout(() => {\n        this.autoPlayEveryFloorMonitor()\n      }, queryTime)\n    },\n    //  自动播放每层楼视频\n    autoPlayEveryFloorMonitor() {\n      let curLen = this.curFloors.length\n      let playTime = this.playTime\n\n      this.timer = setInterval(() => {\n        let arr = this.floors\n        let floorPageSize = this.floorPageSize\n        this.activeIndex++\n\n        this.isShowPic = false\n\n        setTimeout(() => {\n          this.isShowPic = true\n        }, 20)\n\n        //  console.log('autoPlayEveryFloorMonitor', this.activeIndex)\n\n        if (this.activeIndex >= curLen) {\n          this.activeIndex = 0\n\n          this.floorPage++\n          this.floorPage = this.floorPage > this.floorPageTotal ? 1 : this.floorPage\n          this.curFloors = []\n\n          this.curFloors = arr.slice(floorPageSize * (this.floorPage - 1), floorPageSize * this.floorPage)\n\n          this.initPagePlay()\n        }\n      }, playTime)\n    },\n    //  清空自动播放\n    clearAutoPlay() {\n      let timer = this.timer\n\n      timer && clearInterval(timer)\n      timer = null\n    },\n    //  鼠标移入容器  暂停轮播\n    handleMouseenter() {\n      console.log('handleMouseenter')\n      this.clearAutoPlay()\n    },\n    //  鼠标移出容器  重启轮播\n    handleMouseleave() {\n      console.log('handleMouseleave')\n      this.autoPlayEveryFloorMonitor()\n    },\n    //  分页点击\n    handlePageClick(page) {\n      let arr = this.floors\n      let floorPageSize = this.floorPageSize\n      this.activeIndex = 0\n\n      console.log('handlePageClick page', page)\n      this.floorPage = page\n      this.curFloors = arr.slice(floorPageSize * (this.floorPage - 1), floorPageSize * this.floorPage)\n    },\n    //  选择楼层\n    handleSelectFloor(curFloorIndex) {\n      this.activeIndex = curFloorIndex\n\n      let curFloor = this.floorPageSize * (this.floorPage - 1) + curFloorIndex + 1\n\n      this.curFloorChange(curFloor)\n    },\n    handleDebounce: debounce\n  },\n  beforeDestroy() {\n    this.clearAutoPlay()\n  },\n  watch: {\n    list(newList) {\n      this.updateFloors(newList)\n\n      if (this.hasInitPlay) return\n\n      this.$nextTick(() => {\n        this.initPagePlay()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .all-monitor {\n    margin-left: 24px;\n    .border-box-1 {\n      margin-top: 12px;\n      padding: 16px 24px;\n      display: flex;\n\n      .left {\n        flex: 1;\n        height: 100%;\n\n\n      }\n\n      .right {\n        width: 326px;\n        height: 100%;\n\n        .video-container {\n          margin-top: 16px;\n          width: 100%;\n          height: 184px;\n          \n          img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllMonitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllMonitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllMonitor.vue?vue&type=template&id=30468f68&scoped=true&\"\nimport script from \"./AllMonitor.vue?vue&type=script&lang=js&\"\nexport * from \"./AllMonitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AllMonitor.vue?vue&type=style&index=0&id=30468f68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30468f68\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllMonitor.vue?vue&type=style&index=0&id=30468f68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllMonitor.vue?vue&type=style&index=0&id=30468f68&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/snap-shot-02.6fd903fd.png\";","module.exports = __webpack_public_path__ + \"img/snap-shot-01.2f438fc3.png\";","module.exports = __webpack_public_path__ + \"img/snap-shot-04.60768361.png\";","module.exports = __webpack_public_path__ + \"img/snap-shot-03.cb0202cd.png\";","var map = {\n\t\"./snap-shot-01.png\": \"a228\",\n\t\"./snap-shot-02.png\": \"42bc\",\n\t\"./snap-shot-03.png\": \"f25b\",\n\t\"./snap-shot-04.png\": \"e2d7\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"f456\";"],"sourceRoot":""}